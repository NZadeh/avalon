<!-- 
This templates requires the following data:

- title (String), of the room
- ownerId (String), owner of the room
- roomId (String), id of the room (for RPC to restart the game)
- known (Object), with keys
    + name (String), i.e. username
    + role (String), name of the player's character
    + info (String), what the role knows about other players
- playerList (Array), of player usernames  (player.username)
- roleList (Array), of player roles [not tied to the players] in the game (player.role.roleName)
 -->

<template name="inGame">
    <div class="container">
        <div class="row">
            <div class="col s12">
                <h3 class="room-title">{{title}}</h3>
                <div class="what-each-player-knows">
                    <ul class="list-group">
                        {{#with known}}
                            {{> knownInfo}}
                         {{/with}}   
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12 flow-text">
                <h4>Players</h4>
                <div class="room-players">
                    <ul class="list-group">
                        {{#each player in playersList}}
                            {{> listPlayer username=player}}
                        {{/each}}
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12 flow-text">
                <h4>Roles in game</h4>  
                <ul class="list-group">
                    {{#each role in roleList}}
                        {{> listRole role=role}}
                    {{/each}}
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col s12">
                {{> wideDangerButton additionalClasses="leave-btn" buttonText="Leave game"}}
            </div>
        </div>

        {{#if isRoomOwner}}
        <div class="row">
            <div class="col s12">
                {{> wideDangerButton additionalClasses="back-to-lobby-btn" buttonText="Back to lobby"}}
            </div>
        </div>
        {{/if}}
    </div>
</template>

<template name="knownInfo">
    <li class="list-group-item">Your username is: <i>{{name}}</i></li>
    <li class="list-group-item">Your role is: <b>{{role}}</b></li>
    <li class="list-group-item">You know: <b>{{info}}</b></li>
</template>

<template name="listRole">
    <li class="list-group-item">
        {{role}}
    </li>
</template>

<template name="listPlayer">
    <li class="list-group-item">
        {{username}}
    </li>
</template>